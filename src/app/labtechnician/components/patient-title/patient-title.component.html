<!-- <p>patient-title works!</p> -->
<div *ngIf="techPage">
<span class="" id="modal-basic-title" ngbDropdown #myDrop="ngbDropdown">
    <button type="button" 
        class="modal-title text-wrap bg-transparent border-0 p-0 btn d-flex align-items-center gap-2"
        id="dropdownManual" 
        ngbDropdownToggle (mouseenter)="myDrop.open()" (mouseleave)="myDrop.close()">
       <span> {{ title }}</span>
       <span>
        <i class="ri-arrow-down-s-line fs-4 logoColor"></i>
       </span>
    </button>
    <div ngbDropdownMenu aria-labelledby="dropdownManual">
        <div class="container-full py-2 px-3">
            <div class="row mb-2">
                <div class="col-12 fw-light text-muted">
                    <u><i>Patient Details</i></u>
                </div>
            </div>
            <div class="row mb-2">
                <div class="col-lg-8 col-12">
                    <div class="row">
                        <div class="col-12 fw-bold fs-5">
                            {{ patient?.LabPatientTestID?.patient?.title + " " +
                            patient?.LabPatientTestID?.patient?.name }}
                        </div>

                        <div class="col-12 fw-medium">
                            {{patient?.LabPatientTestID?.patient?.gender}} |
                            {{patient?.LabPatientTestID?.patient?.ULabPatientAge == 'DOB' ?
                            patient?.LabPatientTestID?.patient?.dob : patient?.LabPatientTestID?.patient?.age +
                            patient?.LabPatientTestID?.patient?.ULabPatientAge}}
                        </div>

                        <div class="col-12 fw-light text-muted">
                            <small>Mobile Number: <span
                                    class="text-black fw-medium fs-6">{{patient?.LabPatientTestID?.patient?.mobile_number}}</span></small>
                        </div>

                        <div class="col-12 fw-light text-muted">
                            <small>Referral Doctor: <span class="text-black fw-medium fs-6">{{patient?.LabPatientTestID?.patient?.referral_doctor ? patient?.LabPatientTestID?.patient?.referral_doctor : 'SELF'}}</span></small>
                        </div>

                        <div class="col-12 fw-light text-muted">
                            <small>Sample Collected: <span class="text-black fw-medium fs-6">{{
                                    timeSrvc.decodeTimestamp(patient?.phlebotomist?.collected_at)}}</span></small>
                        </div>

                        <div class="col-12 fw-light text-muted">
                            <small>Sample Received: <span class="text-black fw-medium fs-6">{{
                                    timeSrvc.decodeTimestamp(patient?.phlebotomist?.received_at)}}</span></small>
                        </div>


                    </div>
                </div>

                <div class="col-lg-4 col-12 text-muted fw-light d-flex flex-column">
                    <div class="d-flex flex-row flew-nowrap gap-1 align-items-end justify-content-end">
                        <!-- Reg Date :  -->
                        <small><span class="text-black">{{
                                timeSrvc.decodeTimestamp(patient?.LabPatientTestID?.patient?.added_on
                                )}}</span></small>
                    </div>

                    <div class="d-flex flex-column gap-0  fs-6  font-Readex text-black">
                        <span class="d-flex flex-row flew-nowrap gap-1 align-items-end justify-content-end">
                            <small class="p-0 text-nowrap ">MR No.</small>
                            <small
                                class="fs-6 bg-transparent text-danger border-0 text-nowrap font-Readex fw-medium ">{{patient?.LabPatientTestID?.patient?.mr_no
                                || ''}}
                            </small>
                        </span>
                        <!-- <span>|</span> -->
                        <span class="d-flex flex-row gap-1  align-items-end justify-content-end">
                            <small class="text-nowrap">Visit Id.</small>
                            <small
                                class="fs-6 bg-transparent text-danger border-0 text-nowrap font-Readex fw-medium ">{{patient?.LabPatientTestID?.patient?.visit_id
                                || ''}}</small>
                        </span>
                    </div>

                    <div class="fw-light text-black d-flex justify-content-end">
                        <small>Visit Count : <span
                                class="fw-bold">{{patient?.LabPatientTestID?.patient?.visit_count}}</span></small>
                    </div>
                </div>
            </div>

            <div class="row mb-1">
                <div class="col-12 fw-light text-muted">
                    <u><i>Test Details</i></u>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-8 col-12">
                    <div class="row">
                        <div class="col-12 fw-bold fs-5">
                            {{patient?.LabPatientTestID?.name}}
                        </div>
                        <div class="col-12 fw-medium">
                            <small>{{patient?.LabPatientTestID?.short_code}}</small>
                        </div>

                        <div class="col-12 fw-medium">
                            {{patient?.LabPatientTestID?.department}} Department
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 col-12">
                    <div class="row">
                        <div class="col-12 d-flex justify-content-end fw-light">
                            <small> {{ timeSrvc.decodeTimestamp(patient?.LabPatientTestID?.added_on) }}</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</span>
</div>

<div *ngIf="!techPage">
    <span class="" id="modal-basic-title" ngbDropdown #myDrop="ngbDropdown">
        <button type="button" class="modal-title text-wrap fs-6 bg-transparent border-0 p-0 btn d-flex align-items-center gap-2" id="dropdownManual"
        ngbDropdownToggle (mouseenter)="myDrop.open()" (mouseleave)="myDrop.close()">
       <span> {{ title }}</span>
       <span>
        <i class="ri-arrow-down-s-line fs-4 logoColor"></i>
       </span>
    </button>
        <div ngbDropdownMenu aria-labelledby="dropdownManual">
            <div class="container-full  py-2 px-3">
                <div class="row mb-2">
                    <div class="col-12 fw-light text-muted">
                        <u><i>Patient Details</i></u>
                    </div>
                </div>
                <div class="row mb-2">
                    <div class="col-lg-8 col-12">
                        <div class="row">
                            <div class="col-12 fw-bold fs-5">
                                {{ patient.LabPatientTestID?.patient?.title + " " +
                                patient.LabPatientTestID?.patient?.name }}
                            </div>

                            <div class="col-12 fw-medium">
                                {{patient.LabPatientTestID?.patient.gender}} |
                                {{patient.LabPatientTestID?.patient?.ULabPatientAge == 'DOB' ?
                                patient.LabPatientTestID?.patient.dob : patient.LabPatientTestID?.patient.age +
                                patient.LabPatientTestID?.patient?.ULabPatientAge}}
                            </div>

                            <div class="col-12 fw-light text-muted">
                                <small>Mobile Number: <span
                                        class="text-black fw-medium fs-6">{{patient.LabPatientTestID?.patient?.mobile_number}}</span></small>
                            </div>

                            <div class="col-12 fw-light text-muted">
                                <small>Referral Doctor: <span class="text-black fw-medium fs-6">{{patient.LabPatientTestID?.patient?.referral_doctor ? patient.LabPatientTestID?.patient?.referral_doctor : 'SELF'}}</span></small>
                            </div>

                        </div>
                    </div>

                    <div class="col-lg-4 col-12 text-muted fw-light d-flex flex-column">
                        <div class="d-flex flex-row flew-nowrap gap-1 align-items-end justify-content-end">
                            <!-- Reg Date :  -->
                            <small><span class="text-black">{{
                                    timeSrvc.decodeTimestamp(patient.LabPatientTestID?.patient?.added_on
                                    )}}</span></small>
                        </div>

                        <div class="d-flex flex-column gap-0  fs-6  font-Readex text-black">
                            <span class="d-flex flex-row flew-nowrap gap-1 align-items-end justify-content-end">
                                <small class="p-0 text-nowrap ">MR No.</small>
                                <small
                                    class="fs-6 bg-transparent text-danger border-0 text-nowrap font-Readex fw-medium ">{{patient.LabPatientTestID?.patient?.mr_no
                                    || ''}}
                                </small>
                            </span>
                            <!-- <span>|</span> -->
                            <span class="d-flex flex-row gap-1  align-items-end justify-content-end">
                                <small class="text-nowrap">Visit Id.</small>
                                <small
                                    class="fs-6 bg-transparent text-danger border-0 text-nowrap font-Readex fw-medium ">{{patient.LabPatientTestID?.patient?.visit_id
                                    || ''}}</small>
                            </span>
                        </div>

                        <div class="fw-light text-black d-flex justify-content-end">
                            <small>Visit Count : <span
                                    class="fw-bold">{{patient.LabPatientTestID?.patient?.visit_count}}</span></small>
                        </div>
                    </div>
                </div>

                <div class="row mb-1">
                    <div class="col-12 fw-light text-muted">
                        <u><i>Test Details</i></u>
                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-8 col-12">
                        <div class="row">
                            <div class="col-12 fw-bold fs-5">
                                {{patient.LabPatientTestID?.name}}
                            </div>
                            <div class="col-12 fw-medium">
                                <small>{{patient.LabPatientTestID?.short_code}}</small>
                            </div>

                            <div class="col-12 fw-medium">
                                {{patient.LabPatientTestID?.department}} Department
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-4 col-12">
                        <div class="row">
                            <div class="col-12 d-flex justify-content-end fw-light">
                                <small>{{timeSrvc.decodeTimestamp(patient.LabPatientTestID?.added_on)}}</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </span>
</div>