<!-- <p>requests-labs works!</p> -->

<div class="row">
    <div class="col-12">
        <app-datatable>
            <ng-container class="tablebody" *ngFor="let collab of collabs">
                <tr>
                    <td>
                        <div class="d-flex">
                            <div class="d-flex flex-column w-100">
                                <div class="d-flex justify-content-between">
                                    <div class="fw-semibold fs-5">
                                        {{collab.partner.organization_name}}
                                    </div>
                                </div>
                                <div>
                                    <span>Ph no. {{collab?.partner?.phone_number}}</span>
                                </div>


                                <ng-container *ngIf="!collab.credit_payment">
                                    <div>
                                        Min. Paid Amount : <b>{{collab.min_paid_amount}}</b> %
                                    </div>
                                    <div>
                                        Min. Print Amount : <b>{{collab.min_print_amount}}</b> %
                                    </div>
                                </ng-container>

                                <div>
                                    <small>{{collab?.partner?.address}}</small>
                                </div>

                                <div class="pt-2" *ngIf="collab?.description && collab?.description != ''">
                                    <small><i>"{{collab?.description}}"</i></small>
                                </div>

                            </div>
                            <div class="d-flex flex-row gap-2" *ngIf="collab.initiator != b_id">
                                <div>
                                    <button  (click)="acceptCollab(collab)"
                                    class="btn btn-success rounded-3 shadow d-flex">Accept</button>
                                </div>
                                <div>
                                    <button (click)="deleteCollab(collab)"
                                     class="btn btn-danger rounded-3 shadow d-flex">Deny</button>
                                </div>
                            </div>
                            <div class="d-flex flex-column gap-0 text-nowrap text-success fw-normal"
                                *ngIf="collab.initiator == b_id">
                                <small>Request Sent <i class="ri-check-line"></i></small>
                                <button (click)="deleteCollab(collab)"
                                    class="btn btn-soft-danger border-danger rounded-3 shadow btn-sm">Cancel</button>
                            </div>
                        </div>

                    </td>
                </tr>
            </ng-container>
        </app-datatable>
    </div>
</div>